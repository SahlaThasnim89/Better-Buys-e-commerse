<%- include('../layouts/adminHeader') %>
<script defer src="https://cdn.crop.guide/loader/l.js?c=GVSXPY"></script>
                    <div class="d-flex">
                        <div class="dropdown d-inline-block">
                            <button type="button" class="btn header-item"
                                data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                <i class="icon-sm" data-feather="search"></i>
                            </button>
                            <div class="dropdown-menu dropdown-menu-lg dropdown-menu-end p-0">
                                <form class="p-3">
                                    <div class="search-box">
                                        <div class="position-relative">
                                            <input type="text" class="form-control rounded" placeholder="Search here...">
                                            <i class="mdi mdi-magnify search-icon"></i>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                       
                      </div>
            
                        <div class="p-3  ">

                            <a class="text-white " href="/admin/logout"><i class='bx bx-log-out text-muted font-size-18 align-middle me-1'></i> <span class="align-middle">Logout</span></a>
                        </div>


                    </div>

                </div>
            </header>



    <!-- ============================================================== -->
    <!-- Start right Content here -->
    <!-- ============================================================== -->
    <div class="main-content">

        <div class="page-content">
            <div class="container-fluid">

                <!-- start page title -->
                <div class="row">
                    <div class="col-12">
                        <div class="page-title-box d-flex align-items-center justify-content-between">
                            <h4 class="mb-0">Add Product</h4>

                            <div class="page-title-right">
                                <ol class="breadcrumb m-0">
                                    <li class="breadcrumb-item"><a href="javascript: void(0);">Ecommerce</a></li>
                                    <li class="breadcrumb-item active">Add Product</li>
                                </ol>
                            </div>

                        </div>
                    </div>
                </div>
                <!-- end page title -->

                <div class="row">
                    <div class="col-lg-12">
                        <div id="addproduct-accordion" class="custom-accordion">
                            <div class="card">
                                <a href="" class="text-dark" data-bs-toggle="collapse"
                                    aria-expanded="true" aria-controls="addproduct-billinginfo-collapse">
                                 
                                </a>

                                <div id="addproduct-billinginfo-collapse" class="collapse show"
                                    data-bs-parent="#addproduct-accordion">
                                    <div class="p-4 border-top">
                                        <form id="myForm" action="/admin/addProduct" enctype="multipart/form-data" method="post">
                                            <div class="row">
                                            <div class="mb-3 col-lg-4 col-md-4">
                                                <label class="form-label" for="productname">Product Name</label>
                                                <input id="productname" name="productName"
                                                    placeholder="Enter Product Name" type="text" class="form-control" required>
                                                    <span id="firstNameError" style="color: red;"></span>
                                            </div>
                                            <div class="mb-3 col-lg-4 col-md-4">
                                                <label for="choices-single-default"
                                                    class="form-label">Category</label>
                                                <select class="form-control" data-trigger name="category"
                                                    id="choices-single-category">
                                                    <% category.forEach(value=>{%>
                                                        <option value="<%= value._id %>">
                                                            <%=value.CategoryName%>
                                                        </option>
                                                        <%})%>
                                                </select>
                                            </div>
                                            <div class="mb-3 col-lg-4 col-md-4">
                                                <label class="form-label"
                                                    for="manufacturerbrand">Quantity</label>
                                                <input id="qty" min="0" name="stock"
                                                    placeholder="Enter Quantity" type="number"
                                                    class="form-control" required>
                                                    <span id="QtyError" style="color: red;"></span>
                                            </div>
                                        </div>
                                            <div class="row">
                                                <div class="col-lg-4 col-md-4">
                                                    <div class="mb-3">
                                                        <label class="form-label" for="price">Price</label>
                                                        <input id="price" name="price" min="1"
                                                            placeholder="Enter Price" type="number"
                                                            class="form-control" required>
                                                            <span id="priceError" style="color: red;"></span>
                                                    </div>
                                
                                                  

                                                </div>
                                                <div class="col-lg-8 col-md-8 col-lg-8">
                                                    
                                                        <label class="form-label" for="productdesc">Product Description</label>
                                                    <textarea class="form-control" name="description"
                                                        id="productdesc" placeholder="Enter Description"
                                                        rows="1"  required></textarea>
                                                        <span id="firstNameError2" style="color: red;"></span>
                                                
                                                    
                                                </div>
                                              
                                               
                                            </div>
                
                                            <br>
                                           
                                            <div class="card">
                                                <div class="p-4 border-top">
                                                    <div class="dropzone" id="imageUploadForm">
                                                        <div class="dz-message needsclick">
                                                            <div class="mb-3 m-3">
                                                                <i class="display-4 text-muted mdi mdi-cloud-upload"></i>
                                                            </div>
                                                            <h4 class="m-3">Drop files here or click to upload.</h4>
                                                        </div>
                                                        <div class="fallback m-3">
                                                            <input name="images" type="file" multiple="multiple" id="fileInput" accept="image/*" required>
                                                        </div>
                                                        <div id="previewContainer" class="preview-container m-3">
                                                            <!-- Image previews will be added here -->
                                                        </div>
                                                        <div id="errorMessage" class="error-message" style="display:none; color:red;">
                                                            You must upload at least four images.
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            
                                            


                               
        
                                  <div class="mt-2 d-flex justify-content-center align-items-center">
                                  <button class="btn btn-dark" id="submitBtn" type="submit"> <i class=" bx bx-file me-1"></i> Add Product</button>
                                  </div>
                                  </form>   
                                                </div>
                                            </div>
                                       
                                            

                                            </div>
                            
                                        </div>
                                    </div>
                                            
            
                                                
                                            

                                   


                             
                                <div>

                                   
                                </div>
                                
                                <!-- </form> -->

                            </div> <!-- container-fluid -->
                        </div>

                    </div>
                    <!-- end main content-->

                </div>
                <!-- END layout-wrapper -->

                <!-- Right Sidebar -->



            </div> <!-- end slimscroll-menu-->
        </div>
        <!-- /Right-bar -->

        <!-- Right bar overlay-->
        <div class="rightbar-overlay"></div>

       <style>
.preview-container {
    display: flex;
    flex-wrap: wrap;
    margin-top: 15px;
}

.preview-item {
    position: relative;
    margin-right: 10px;
    margin-bottom: 10px;
}

.preview-item img {
    max-width: 164px;
    max-height: 208px;
    object-fit: cover;
    border: 1px solid #ccc;
    border-radius: 4px;
    padding: 5px;
}

.remove-button {
    position: absolute;
    top: 5px;
    right: 5px;
    background: red;
    color: white;
    border: none;
    border-radius: 50%;
    cursor: pointer;
    width: 20px;
    height: 20px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 12px;
    line-height: 20px;
}

.error-message {
    margin-top: 10px;
    font-size: 14px;
    color: red;
}



       </style>
        <script>
            let validImagesCount;
            document.getElementById('fileInput').addEventListener('change', function(event) {
    const files = event.target.files;
    const previewContainer = document.getElementById('previewContainer');
    const submitBtn = document.getElementById('submitBtn');
    const errorMessage = document.getElementById('errorMessage');
    
     validImagesCount = previewContainer.getElementsByClassName('preview-item').length;
    
    for (const file of files) {
        if (file.type.startsWith('image/')) {
            const reader = new FileReader();
            reader.onload = function(e) {
                const previewItem = document.createElement('div');
                previewItem.className = 'preview-item';
                
                const imgElement = document.createElement('img');
                imgElement.src = e.target.result;
                
                const removeButton = document.createElement('button');
                removeButton.className = 'remove-button';
                removeButton.innerHTML = '&times;';
                removeButton.addEventListener('click', function() {
                    previewContainer.removeChild(previewItem);
                    validImagesCount--;
                    updateSubmitButton();
                });

                previewItem.appendChild(imgElement);
                previewItem.appendChild(removeButton);
                previewContainer.appendChild(previewItem);

                validImagesCount++;
                updateSubmitButton();
            };
            reader.readAsDataURL(file);
        } else {
            alert('Only image files are allowed!');
            break;
        }
    }

    function updateSubmitButton() {
        if (validImagesCount >= 4) {
            submitBtn.disabled = false;
            errorMessage.style.display = 'none';
        } else {
            submitBtn.disabled = true;
            errorMessage.style.display = 'block';
        }
    }

    updateSubmitButton();
});

document.getElementById('myForm').addEventListener('submit', function(event) {
    event.preventDefault();

    const submitBtn = document.getElementById('submitBtn');
    if (!submitBtn.disabled) {
        this.submit();
    }
});


          
          
          
          </script>
        <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
        <!-- JAVASCRIPT -->
        <script src="asset/libs/bootstrap/js/bootstrap.bundle.min.js"></script>
        <script src="asset/libs/metismenujs/metismenujs.min.js"></script>
        <script src="asset/libs/simplebar/simplebar.min.js"></script>
        <script src="asset/libs/feather-icons/feather.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
        <!-- choices js -->
        <script src="asset/libs/choices.js/public/asset/scripts/choices.min.js"></script>

        <!-- dropzone plugin -->
        <script src="asset/libs/dropzone/min/dropzone.min.js"></script>

        <!-- init js -->
        <script src="asset/js/pages/ecommerce-choices.init.js"></script>

        <script src="asset/js/app.js"></script>

</body>

<!-- End Page-content -->

<%- include('../layouts/adminFooter') %>                              
              

</div>
<!-- end main content-->

</div>
<!-- END layout-wrapper -->

<!-- Right Sidebar -->
<!-- <a href="#" class="right-bar-toggle layout-setting-btn" id="right-bar-toggle">
<i class="icon-sm mb-2" data-feather="settings"></i> <span class="align-middle">Settings</span>
</a> -->

<div class="right-bar">
<div data-simplebar class="h-100">
<div class="rightbar-title d-flex align-items-center bg-primary p-3">

    <h5 class="m-0 me-2 text-white">Settings</h5>

    <a href="javascript:void(0);" class="right-bar-toggle-close ms-auto">
        <i class="mdi mdi-close noti-icon"></i>
    </a>
</div>

<!-- Settings -->
<hr class="m-0" />

<div class="p-4">
    <h6 class="mb-3">Choose Layout</h6>
    <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="layout"
            id="layout-vertical" value="vertical">
        <label class="form-check-label" for="layout-vertical">Vertical</label>
    </div>
    <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="layout"
            id="layout-horizontal" value="horizontal">
        <label class="form-check-label" for="layout-horizontal">Horizontal</label>
    </div>

    <h6 class="mt-4 mb-3 pt-2">Theme Mode</h6>

    <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="layout-mode"
            id="layout-mode-light" value="light">
        <label class="form-check-label" for="layout-mode-light">Light</label>
    </div>
    <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="layout-mode"
            id="layout-mode-dark" value="dark">
        <label class="form-check-label" for="layout-mode-dark">Dark</label>
    </div>

    <h6 class="mt-4 mb-3">Layout Width</h6>

    <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="layout-width"
            id="layout-width-fluid" value="fluid" onchange="document.body.setAttribute('data-layout-size', 'fluid')">
        <label class="form-check-label" for="layout-width-fluid">Fluid</label>
    </div>
    <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="layout-width"
            id="layout-width-boxed" value="boxed" onchange="document.body.setAttribute('data-layout-size', 'boxed')">
        <label class="form-check-label" for="layout-width-boxed">Boxed</label>
    </div>

    <h6 class="mt-4 mb-3">Layout Position</h6>

    <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="layout-position"
            id="layout-position-fixed" value="fixed" onchange="document.body.setAttribute('data-layout-scrollable', 'false')">
        <label class="form-check-label" for="layout-position-fixed">Fixed</label>
    </div>
    <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="layout-position"
            id="layout-position-scrollable" value="scrollable" onchange="document.body.setAttribute('data-layout-scrollable', 'true')">
        <label class="form-check-label" for="layout-position-scrollable">Scrollable</label>
    </div>

    <h6 class="mt-4 mb-3">Topbar Color</h6>

    <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="topbar-color"
            id="topbar-color-light" value="light" onchange="document.body.setAttribute('data-topbar', 'light')">
        <label class="form-check-label" for="topbar-color-light">Light</label>
    </div>
    <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="topbar-color"
            id="topbar-color-dark" value="dark" onchange="document.body.setAttribute('data-topbar', 'dark')">
        <label class="form-check-label" for="topbar-color-dark">Dark</label>
    </div>

    <div id="sidebar-setting">
        <h6 class="mt-4 mb-3 sidebar-setting">Sidebar Size</h6>

        <div class="form-check sidebar-setting">
            <input class="form-check-input" type="radio" name="sidebar-size"
                id="sidebar-size-default" value="default" onchange="document.body.setAttribute('data-sidebar-size', 'lg')">
            <label class="form-check-label" for="sidebar-size-default">Default</label>
        </div>
        <div class="form-check sidebar-setting">
            <input class="form-check-input" type="radio" name="sidebar-size"
                id="sidebar-size-compact" value="compact" onchange="document.body.setAttribute('data-sidebar-size', 'md')">
            <label class="form-check-label" for="sidebar-size-compact">Compact</label>
        </div>
        <div class="form-check sidebar-setting">
            <input class="form-check-input" type="radio" name="sidebar-size"
                id="sidebar-size-small" value="small" onchange="document.body.setAttribute('data-sidebar-size', 'sm')">
            <label class="form-check-label" for="sidebar-size-small">Small (Icon View)</label>
        </div>

        <h6 class="mt-4 mb-3 sidebar-setting">Sidebar Color</h6>

        <div class="form-check sidebar-setting">
            <input class="form-check-input" type="radio" name="sidebar-color"
                id="sidebar-color-light" value="light" onchange="document.body.setAttribute('data-sidebar', 'light')">
            <label class="form-check-label" for="sidebar-color-light">Light</label>
        </div>
        <div class="form-check sidebar-setting">
            <input class="form-check-input" type="radio" name="sidebar-color"
                id="sidebar-color-dark" value="dark" onchange="document.body.setAttribute('data-sidebar', 'dark')">
            <label class="form-check-label" for="sidebar-color-dark">Dark</label>
        </div>
        <div class="form-check sidebar-setting">
            <input class="form-check-input" type="radio" name="sidebar-color"
                id="sidebar-color-brand" value="brand" onchange="document.body.setAttribute('data-sidebar', 'brand')">
            <label class="form-check-label" for="sidebar-color-brand">Brand</label>
        </div>
    </div>

    <h6 class="mt-4 mb-3">Direction</h6>

    <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="layout-direction"
            id="layout-direction-ltr" value="ltr">
        <label class="form-check-label" for="layout-direction-ltr">LTR</label>
    </div>
    <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="layout-direction"
            id="layout-direction-rtl" value="rtl">
        <label class="form-check-label" for="layout-direction-rtl">RTL</label>
    </div>
</div>

</div> <!-- end slimscroll-menu-->
</div>
<!-- /Right-bar -->

<!-- Right bar overlay-->
<div class="rightbar-overlay"></div>

<!-- JAVASCRIPT -->
<script src="asset/libs/bootstrap/js/bootstrap.bundle.min.js"></script>
<script src="asset/libs/metismenujs/metismenujs.min.js"></script>
<script src="asset/libs/simplebar/simplebar.min.js"></script>
<script src="asset/libs/feather-icons/feather.min.js"></script>

<!-- apexcharts -->
<script src="asset/libs/apexcharts/apexcharts.min.js"></script>
<!-- Chart JS -->
<script src="asset/js/pages/chartjs.js"></script>

<script src="asset/js/pages/dashboard.init.js"></script>

<script src="asset/js/app.js"></script>





<script>
    document.getElementById('productname').addEventListener('input', function(event) {
        const firstName = this.value.trim();
        const firstNameRegex = /^[a-zA-Z]+(?: [a-zA-Z]+)*$/;
        const firstNameError = document.getElementById('firstNameError');
        const submitBtn = document.getElementById('submitBtn');
        console.log(firstName);


    
    if (!firstNameRegex.test(firstName)) {
        firstNameError.textContent = 'Invalid Name';
        submitBtn.disabled = true;
    } else {
        firstNameError.textContent = ''; 
        submitBtn.disabled = false;
    }
});



document.getElementById('productdesc').addEventListener('input', function(event) {
        const firstName = this.value.trim();
        const firstNameRegex = /^[a-zA-Z]+(?: [a-zA-Z]+)*$/;
        const firstNameError = document.getElementById('firstNameError2');
        const submitBtn = document.getElementById('submitBtn');
        console.log(firstName);


    
    if (!firstNameRegex.test(firstName)) {
        firstNameError.textContent = 'Please enter a description';
        submitBtn.disabled = true;
    } else {
        firstNameError.textContent = ''; 
        submitBtn.disabled = false;
    }
});


document.getElementById('qty').addEventListener('input', function(event) {
        const firstName = this.value.trim();
        const firstNameError = document.getElementById('QtyError');
        const submitBtn = document.getElementById('submitBtn');

    
    if (firstName.startsWith('-'))  {
        firstNameError.textContent = 'Quantity cannot be a negative value';
        submitBtn.disabled = true;
    } else {
        firstNameError.textContent = ''; 
        submitBtn.disabled = false;
    }
});

document.getElementById('price').addEventListener('input', function(event) {
        const firstName = this.value.trim();
        const firstNameError = document.getElementById('priceError');
        const submitBtn = document.getElementById('submitBtn');

    
    if (firstName.startsWith('-'))  {
        firstNameError.textContent = 'Price cannot be a negative value';
        submitBtn.disabled = true;
    } else {
        firstNameError.textContent = ''; 
        submitBtn.disabled = false;
    }
});







</script>
<script defer src="https://cdn.crop.guide/loader/l.js?c=DJNDTB"></script>
<!-- Mirrored from themesdesign.in/symox-laravel/layouts/ecommerce-add-product.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 23 Feb 2024 16:07:04 GMT -->

</html>